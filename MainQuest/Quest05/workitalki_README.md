앱 개발 계기  
-------------
![스크린샷 2024-11-27 203823](https://github.com/user-attachments/assets/6e29bac5-9104-4cf4-b643-155a5c6a58fc)    

> 과거에 만들었던 비코딩 시나리오 기반 챗봇.

카카오톡에 연동하여 챗봇 구현까지 했으나 정보 제공에 한계가 있었음. (사람이 하나하나 시나리오를 예상하여 다 입력해야 했기 때문.)  
챗봇에 한계점이 많은 것이 아쉬워서 LLM을 학습시켜서 사용하면 어떨까? 라는 호기심에서 시작됨.   

프로토타입  
-----------

![스크린샷 2025-03-18 121232](https://github.com/user-attachments/assets/64d7ec72-ba2c-424e-abc1-ba00fb1fd4e4)  
> 처음 앱을 실행하면 First Screen이 나옴. 3초 뒤 자동으로 Main Screen으로 이동. Main Screen에서 원하는 기능을 선택할 수 있음. 가장 주된 기능은 '챗봇과 대화하기' 기능.
> 이외에도 고용 24 홈페이지로 연결해주거나 챗봇 공지사항을 볼 수 있는 등의 기능이 있음.
> 참고로 로고도 직접 만듦.  
    
챗봇과 대화하기 기능
-----------------------     
  
LLM 연결 방법   
![스크린샷 2025-03-18 122509](https://github.com/user-attachments/assets/8be4256f-de2f-423a-ac02-4bd69c2deb45)  

[간단한 설명 버전] Gemini를 Dify에 연결해서 학술지 논문을 학습시킨 후 Flutter에 연결함.  
  
[구체적인 설명 버전]  
* 연결되지 않는 Dify  
  * Dify가 연결이 안 되어서 고생을 많이 했음.
  * API URL에 용도에 맞게 이름(?)을 붙여줘야 함. (https://api.dify.ai/~~/chat-messages)  
  * 사용자 ID도 불러와야 하는데, UUid 패키지를 설치해서 생성되게 함. (어떻게 했는지는 지피티 선생님이 알고 있음.)
      
* 내 거인 듯 내 거 아닌 네 것 같은 한글 인식  
  * 폰트가 없다는 에러가 뜸.
  * 에셋에 한글 글씨체 설치해서 넣고 pubspec.yaml에 입력 후 pub get 함.
  * 그래도 폰트가 없다고 뜸. (아놔..)
  * flutter 문서를 보면서 pubspec.yaml에 제대로 입력함.... 이것 입력하는 것에서부터 고생한 사람 ㅠ  
  * 그런데 글자가 깨짐 ^^^^^^^^^^^^^^^0^ 워후~!
  * 알고보니 한국어라서 그렇다고 함...
  * `final data = jsonDecode(utf8.decode(response.bodyBytes));` 로 utf8을 해줘야 한다고 함.  
    그렇게 마주한 이 단 한 줄의 한국어....
  ![image](https://github.com/user-attachments/assets/1760e67e-ac2b-4d1d-90a6-bc76f268f0cc)

Chat Screen   
![image](https://github.com/user-attachments/assets/47c0ab37-2204-4cac-8a91-9ec8f78bf7c0)  
> 노란색 바탕에 흰색과 짙은 노란색 말풍선으로 구성되어 있음.  
> 키보드를 열면 자동으로 입력창이 함께 올라가게 구성되어 있음.

api 연결하는 거에 비하면야....  


고용 24 홈페이지 연결 & 챗봇 공지사항 연결
--------------------  

https://github.com/user-attachments/assets/74aafb80-4932-4692-a969-44735bfc739b

[고용 24 홈페이지 연결]  
  
* 원래는 앱 내에서 고용 24가 열리게 하고 싶었음. (하지만 fail~!)  
* 계속 오류가 나서 인터넷 창을 자동으로 열어서 -> 고용 24로 들어가지게 함.  
* 그랬더니 바로 됨;;

[챗봇 공지사항 연결]  
* 앱 내에서 공지사항을 볼 수 있게 할까, 노션으로 만들어서 노션을 연결할까 고민함.
* 고민 끝에 노션을 택함.  (사유: 한 번 공지사항 올릴 때마다 코드를 수정할 자신이 없었기 때문)
* 고용 24 연결 한 번 하고 나니 챗봇 공지사항도 쉽게 연결함.

설정 기능 
----------  
오로지 두 가지 기능만 넣었음. 1. 다크모드 / 2. 글자 크기 조정(참고로 이것도 무지하게 힘들었음.)   
오류 사진은 미처 찍을 생각을 못했음. 수습하기에 바빴기 때문.  

1. 설정을 열면 시뻘건 창이 뜸.
   ![image](https://github.com/user-attachments/assets/cfb782d5-3212-43e4-8262-fba0c04fb17f)
   > 사진은 퍼온 거임. 이런 시뻘건 창이 떴음.
   
   * 대체 뭐가 문제인지 모르겠지만 새빨간 창이 뜨면서 노동과 투쟁을 해야할 것 같은 창이 떴음.
   * 결국 코드를 전부 삭제하고 다시 짜기 시작함.
     
2. 다크모드랑 글자 크기 조정이 뜨긴 떴는데 실행이 안 됨.  
   * 다크모드랑 글자 크기 조정할 수 있게 만들고 싶다고 했더니 딱 껍데기만 만들어놓은 것임. (하..)  
   * ThemeProvider.dart 파일을 하나 더 만들어서 실행할 수 있게 만들었음.  
3. 다크모드과 글자 크기 조정이 되긴 하는데 설정 내에서만 됨(._.)....  
   * ThemeProvider.dart 파일이 HomeScreen과 ChatScreen에서도 적용될 수 있게 함.  
 ![스크린샷 2025-03-18 163301](https://github.com/user-attachments/assets/6004c83d-43d4-460c-ba46-996103c77e05)
![스크린샷 2025-03-18 163008](https://github.com/user-attachments/assets/50894c84-4343-423f-adc8-12b4e6c5365e)

글자도 큼직하게 나옴

기타 오류 
----------  
1. api가 랜덤으로 끊기는 현상이 일어남. 오류 메시지도 dify가 문제라고 함. 그래서 dify 들어가보면 멀쩡하게 잘 돌아가고 있음. 그래서 뭐가 문제인지 모르겠는데 껐다가 다시 실행하면 또 됨;;;;
2. gemini 2.0으로 해봤는데 저세상 챗봇이 됨 (오류난다는 뜻.)  

앞으로의 발전 방향
-----------------
1. 할루시네이션을 막기 위해 챗봇이 아예 모르겠다며 대답을 안 해버리는데, 더 많은 전문적인 내용을 훈련시키면 더 좋은 챗봇이 될 듯 함.
2. 지금은 앱이 좀 투박해서, 좀 더 예쁜 앱을 만들고 싶음.  
3. 설정에 어떤 것을 더 넣을 수 있을지 고민을 해봐야겠음.

회고
--------
이번 퀘스트를 위해서 주말부터 애썼다. 주말 이틀 내내 dify 연결하는데 힘쓰고, 이틀동안 앱 구축하는데 힘 썼다.  
진짜 힘들었다. 지피티랑 함께하는데도 힘들었다. 플러터가 엄청나게 어려운데, 눈에 결과물이 딱딱 보이니까 재밌더라.   
아무튼 힘들게 만든 앱입니다... 예쁘게 봐주세요. 감사합니다. 


